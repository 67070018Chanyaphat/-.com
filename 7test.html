<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hangman Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: #f5f5f5;
        }
        #word {
            font-size: 24px;
            margin: 20px;
        }
        #hangman {
            font-size: 60px;
            margin: 20px;
        }
        input {
            font-size: 20px;
        }
    </style>
</head>
<body>

    <h1>Hangman Game</h1>
    <div id="hangman"></div>
    <div id="word"></div>
    <input type="text" id="guess" maxlength="1" placeholder="Guess a letter" />
    <br>
    <button onclick="makeGuess()">Guess</button>
    <div id="message"></div>
    <div id="hint" style="margin-top: 20px;"></div>
    <br>
    <script>
        const questions = [
            {
                hint: "คอมพิวเตอร์ทำงานภายใต้ชุดคำสั่งที่เรียกว่า",
                answer: "software"
            },
            {
                hint: "ที่เก็บข้อมูลระยะสั้น",
                answer: "memory"
            },
            {
                hint: "ที่เก็บข้อมูลระยะยาว",
                answer: "storage media"
            }
        ];

        let currentQuestionIndex = 0;
        let chosenWord = questions[currentQuestionIndex].answer;
        let guessedLetters = [];
        let tries = 6;
        let wordCompletion = '_'.repeat(chosenWord.length);

        function displayHangman() {
            const stages = [
                '',
                'O',
                'O\n/',
                'O\n/|',
                'O\n/|\\',
                'O\n/|\\\n/',
                'O\n/|\\\n/ \\'
            ];
            document.getElementById('hangman').innerText = stages[6 - tries];
        }

        function displayWord() {
            document.getElementById('word').innerText = wordCompletion.split('').join(' ');
        }

        function makeGuess() {
            const guessInput = document.getElementById('guess');
            const guess = guessInput.value.toLowerCase();
            guessInput.value = '';

            if (guessedLetters.includes(guess)) {
                document.getElementById('message').innerText = "You already guessed that letter.";
                return;
            }
            guessedLetters.push(guess);

            if (chosenWord.includes(guess)) {
                const wordArray = wordCompletion.split('');
                for (let i = 0; i < chosenWord.length; i++) {
                    if (chosenWord[i] === guess) {
                        wordArray[i] = guess;
                    }
                }
                wordCompletion = wordArray.join('');
            } else {
                tries--;
            }

            displayHangman();
            displayWord();
            checkGameStatus();
        }

        function checkGameStatus() {
            if (tries <= 0) {
                document.getElementById('message').innerText = `Game Over! The word was "${chosenWord}".`;
                showNextQuestion();
            } else if (!wordCompletion.includes('_')) {
                document.getElementById('message').innerText = "Congratulations! You guessed the word!";
                showNextQuestion();
            }
        }

        function showNextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                chosenWord = questions[currentQuestionIndex].answer;
                guessedLetters = [];
                tries = 6;
                wordCompletion = '_'.repeat(chosenWord.length);
                document.getElementById('hint').innerText = questions[currentQuestionIndex].hint;
                displayHangman();
                displayWord();
                document.getElementById('message').innerText = '';
            } else {
                document.getElementById('message').innerText = "You've completed all questions!";
                document.getElementById('hint').innerText = '';
            }
        }

        // Initial display
        document.getElementById('hint').innerText = questions[currentQuestionIndex].hint;
        displayHangman();
        displayWord();
    </script>

</body>
</html>
